    <!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.18.1">
    <title>StaffNotes.Accounts â€“ Staff Notes v0.0.1</title>
    <link rel="stylesheet" href="dist/app-c922dbe7ef.css" />
    
    <script src="dist/sidebar_items-2ab548fdb2.js"></script>
    
    
    
    
  </head>
  <body data-type="modules">
    <script>try { if(localStorage.getItem('night-mode')) document.body.className += ' night-mode'; } catch (e) { }</script>

    <div class="main">
<button class="sidebar-toggle">
  <span class="icon-menu" aria-hidden="true"></span>
  <span class="sr-only">Toggle Sidebar</span>
</button>
<section class="sidebar">

  
  <a href="https://www.staffnotes.io" class="sidebar-projectLink">
    <div class="sidebar-projectDetails">
      <h1 class="sidebar-projectName">
        Staff Notes
      </h1>
      <h2 class="sidebar-projectVersion">
        v0.0.1
      </h2>
    </div>
    
  </a>

  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
    <input name="q" type="text" id="search-list" class="search-input" placeholder="search" aria-label="Search" autocomplete="off" />
  </form>

  <ul class="sidebar-listNav">
    <li><a id="extras-list" href="#full-list">Pages</a></li>

    
      <li><a id="modules-list" href="#full-list">Modules</a></li>
    

    

    
  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">


      <h1>
        <small class="visible-xs">Staff Notes v0.0.1</small>
        StaffNotes.Accounts
        
          <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L1" title="View Source" class="view-source" rel="help">
            <span class="icon-code" aria-hidden="true"></span>
            <span class="sr-only">View Source</span>
          </a>
        
      </h1>

      
        <section id="moduledoc">
          <p>Represents the business-logic layer of working with the various accounts in the Staff Notes
application. There are three types of accounts in Staff Notes:</p>
<ul>
<li>Organizations - Represents an organization that has members whose behavior and achievements
need to be tracked by staff users</li>
<li>Teams - Represents a group of users with the same permission level in an organization</li>
<li>Users - Represents a staff member of an organization who will access or author notes</li>
</ul>
<p>Business logic specific to a particular record is typically implemented within that module. For
example, the logic around original teams is implemented in the <a href="StaffNotes.Accounts.Team.html"><code>StaffNotes.Accounts.Team</code></a> module.
Business logic that involves multiple records, such as when a user creates an organization (see
the <a href="#create_org/1"><code>create_org/1</code></a> function) is implemented within this module.</p>

        </section>
      

      
        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>
          

          
  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
    <div class="summary-row">
  <div class="summary-signature">
    <a href="#add_user_to_org/2">add_user_to_org(user, org)</a>
  </div>
  
    <div class="summary-synopsis"><p>Adds the user to the organization</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#add_user_to_team/2">add_user_to_team(user, team)</a>
  </div>
  
    <div class="summary-synopsis"><p>Adds the user to the team</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#change_org/1">change_org(org)</a>
  </div>
  
    <div class="summary-synopsis"><p>Creates an <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html"><code>Ecto.Changeset</code></a> for tracking organization changes</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#change_team/1">change_team(team)</a>
  </div>
  
    <div class="summary-synopsis"><p>Creates an <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html"><code>Ecto.Changeset</code></a> for tracking team changes</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#change_user/1">change_user(user)</a>
  </div>
  
    <div class="summary-synopsis"><p>Creates an <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html"><code>Ecto.Changeset</code></a> for tracking user changes</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#create_org/2">create_org(attrs \\ %{}, user)</a>
  </div>
  
    <div class="summary-synopsis"><p>Creates an organization</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#create_team/2">create_team(team_attrs \\ %{}, org)</a>
  </div>
  
    <div class="summary-synopsis"><p>Creates a team within an organization</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#create_user/1">create_user(attrs \\ %{})</a>
  </div>
  
    <div class="summary-synopsis"><p>Creates a user</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delete_org/1">delete_org(org)</a>
  </div>
  
    <div class="summary-synopsis"><p>Deletes the organization</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delete_team/1">delete_team(team)</a>
  </div>
  
    <div class="summary-synopsis"><p>Deletes the team</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delete_user/1">delete_user(user)</a>
  </div>
  
    <div class="summary-synopsis"><p>Deletes a user</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_org/2">get_org(name, options \\ [])</a>
  </div>
  
    <div class="summary-synopsis"><p>Gets a single organization</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_org!/2">get_org!(name, options \\ [])</a>
  </div>
  
    <div class="summary-synopsis"><p>Gets a single organization</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_team!/1">get_team!(name)</a>
  </div>
  
    <div class="summary-synopsis"><p>Gets the team by id</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_team!/2">get_team!(org_name, team_name)</a>
  </div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_user/1">get_user(name_or_id)</a>
  </div>
  
    <div class="summary-synopsis"><p>Gets a single user</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_user!/1">get_user!(name_or_id)</a>
  </div>
  
    <div class="summary-synopsis"><p>Gets a single user</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#list_orgs/0">list_orgs()</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the list of organizations</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#list_teams/1">list_teams(org)</a>
  </div>
  
    <div class="summary-synopsis"><p>Lists all teams within the organization</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#list_users/0">list_users()</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the list of all users</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#list_users/1">list_users(org)</a>
  </div>
  
    <div class="summary-synopsis"><p>List the users on a team</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#original_team/1">original_team(organization_id)</a>
  </div>
  
    <div class="summary-synopsis"><p>Returns the original team for the organization, if it exists</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#remove_user_from_org/2">remove_user_from_org(user, org)</a>
  </div>
  
    <div class="summary-synopsis"><p>Removes the user from the organization</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#remove_user_from_team/2">remove_user_from_team(user, team)</a>
  </div>
  
    <div class="summary-synopsis"><p>Removes the user from the team</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#update_org/2">update_org(org, attrs)</a>
  </div>
  
    <div class="summary-synopsis"><p>Updates the organization</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#update_team/2">update_team(team, attrs)</a>
  </div>
  
    <div class="summary-synopsis"><p>Updates the team</p>
</div>
  
</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#update_user/2">update_user(user, attrs)</a>
  </div>
  
    <div class="summary-synopsis"><p>Updates a user</p>
</div>
  
</div>

  </div>


          

        </section>
      

      

      
        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Functions
          </h1>
          <div class="detail" id="add_user_to_org/2">
  
  
  <div class="detail-header">
    <a href="#add_user_to_org/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">add_user_to_org(user, org)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L30" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>add_user_to_org(<a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>(), <a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Adds the user to the organization.</p>

  </section>
</div>
<div class="detail" id="add_user_to_team/2">
  
  
  <div class="detail-header">
    <a href="#add_user_to_team/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">add_user_to_team(user, team)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L40" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>add_user_to_team(<a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>(), <a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Adds the user to the team.</p>

  </section>
</div>
<div class="detail" id="change_org/1">
  
  
  <div class="detail-header">
    <a href="#change_org/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">change_org(org)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L50" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>change_org(<a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>()) :: <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Creates an <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html"><code>Ecto.Changeset</code></a> for tracking organization changes.</p>

  </section>
</div>
<div class="detail" id="change_team/1">
  
  
  <div class="detail-header">
    <a href="#change_team/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">change_team(team)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L65" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>change_team(<a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>()) :: <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Creates an <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html"><code>Ecto.Changeset</code></a> for tracking team changes.</p>
<h2 id="change_team/1-examples" class="section-heading">
  <a href="#change_team/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="iex elixir">iex&gt; change_team(team)
%Ecto.Changeset{source: %Team{}}
</code></pre>

  </section>
</div>
<div class="detail" id="change_user/1">
  
  
  <div class="detail-header">
    <a href="#change_user/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">change_user(user)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L80" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>change_user(<a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()) :: <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Creates an <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html"><code>Ecto.Changeset</code></a> for tracking user changes.</p>
<h2 id="change_user/1-examples" class="section-heading">
  <a href="#change_user/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="iex elixir">iex&gt; change_user(user)
%Ecto.Changeset{source: %User{}}
</code></pre>

  </section>
</div>
<div class="detail" id="create_org/2">
  
  
    <span id="create_org/1"></span>
  
  <div class="detail-header">
    <a href="#create_org/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">create_org(attrs \\ %{}, user)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L98" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>create_org(<a href="https://hexdocs.pm/elixir/Map.html#t:t/0">Map.t</a>(), <a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Creates an organization.</p>
<p>When an organization is created:</p>
<ol>
<li>It is created by a user</li>
<li>The organization is created</li>
<li>An &quot;owners&quot; team is created for that organization (with &quot;owner&quot; permissions)</li>
<li>The creating user is added to the organization</li>
<li>The creating user is added to the &quot;owners&quot; team</li>
</ol>
<p>All of this is executed in a database transaction so if any step fails, it all gets rolled back.</p>

  </section>
</div>
<div class="detail" id="create_team/2">
  
  
    <span id="create_team/1"></span>
  
  <div class="detail-header">
    <a href="#create_team/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">create_team(team_attrs \\ %{}, org)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L110" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>create_team(<a href="https://hexdocs.pm/elixir/Map.html#t:t/0">Map.t</a>(), <a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Creates a team within an organization.</p>
<p>See <a href="StaffNotes.Accounts.Team.html#create_team_changeset/2"><code>StaffNotes.Accounts.Team.create_team_changeset/2</code></a> for applicable business rules.</p>

  </section>
</div>
<div class="detail" id="create_user/1">
  
  
    <span id="create_user/0"></span>
  
  <div class="detail-header">
    <a href="#create_user/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">create_user(attrs \\ %{})</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L138" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>create_user(<a href="https://hexdocs.pm/elixir/Map.html#t:t/0">Map.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Creates a user.</p>
<h2 id="create_user/1-examples" class="section-heading">
  <a href="#create_user/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="iex elixir">iex&gt; create_user(%{field: value})
{:ok, %User{}}
</code></pre>
<pre><code class="iex elixir">iex&gt; create_user(%{field: bad_value})
{:error, %Ecto.Changeset{}}
</code></pre>

  </section>
</div>
<div class="detail" id="delete_org/1">
  
  
  <div class="detail-header">
    <a href="#delete_org/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">delete_org(org)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L151" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>delete_org(<a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Deletes the organization.</p>
<p>This also deletes all teams within the organization and disassociates all users from the
organization and its teams.</p>

  </section>
</div>
<div class="detail" id="delete_team/1">
  
  
  <div class="detail-header">
    <a href="#delete_team/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">delete_team(team)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L161" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>delete_team(<a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Deletes the team.</p>
<p>See <a href="StaffNotes.Accounts.Team.html#delete_team_changeset/1"><code>StaffNotes.Accounts.Team.delete_team_changeset/1</code></a> for applicable business rules.</p>

  </section>
</div>
<div class="detail" id="delete_user/1">
  
  
  <div class="detail-header">
    <a href="#delete_user/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">delete_user(user)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L183" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>delete_user(<a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Deletes a user.</p>
<h2 id="delete_user/1-examples" class="section-heading">
  <a href="#delete_user/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="iex elixir">iex&gt; delete_user(user)
{:ok, %User{}}
</code></pre>
<pre><code class="iex elixir">iex&gt; delete_user(user)
{:error, %Ecto.Changeset{}}
</code></pre>

  </section>
</div>
<div class="detail" id="get_org/2">
  
  
    <span id="get_org/1"></span>
  
  <div class="detail-header">
    <a href="#get_org/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">get_org(name, options \\ [])</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L194" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>get_org(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  <a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>() |
  nil</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Gets a single organization.</p>
<p>Works the same as <a href="#get_org!/1"><code>get_org!/1</code></a> but returns <code>nil</code> instead of raising an error when the organization
is not found.</p>

  </section>
</div>
<div class="detail" id="get_org!/2">
  
  
    <span id="get_org!/1"></span>
  
  <div class="detail-header">
    <a href="#get_org!/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">get_org!(name, options \\ [])</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L221" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>get_org!(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>(), <a href="https://hexdocs.pm/elixir/Keyword.html#t:t/0">Keyword.t</a>()) ::
  <a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>() |
  no_return()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Gets a single organization.</p>
<p>Raises <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.NoResultsError.html"><code>Ecto.NoResultsError</code></a> if the organization does not exist.</p>
<h2 id="get_org!/2-options" class="section-heading">
  <a href="#get_org!/2-options" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Options
</h2>

<ul>
<li><code>:with</code> â€” Specifies the records to preload in the organization record. It uses the same
keyword list syntax as <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Repo.html#preload/3"><code>Ecto.Repo.preload/3</code></a></li>
</ul>
<h2 id="get_org!/2-examples" class="section-heading">
  <a href="#get_org!/2-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<p>Gets just the organization record:</p>
<pre><code class="elixir">Accounts.get_org!(&quot;org-name&quot;)
</code></pre>
<p>Gets the organization record and preloads the <code>users</code> field.</p>
<pre><code class="elixir">Accounts.get_org!(&quot;org-name&quot;, with: [:users])
</code></pre>

  </section>
</div>
<div class="detail" id="get_team!/1">
  
  
  <div class="detail-header">
    <a href="#get_team!/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">get_team!(name)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L237" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>get_team!(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()) :: <a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>() | no_return()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Gets the team by id.</p>
<p>Raises <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.NoResultsError.html"><code>Ecto.NoResultsError</code></a> if the team does not exist.</p>

  </section>
</div>
<div class="detail" id="get_team!/2">
  
  
  <div class="detail-header">
    <a href="#get_team!/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">get_team!(org_name, team_name)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L239" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
  </div>
  <section class="docstring">
    
  </section>
</div>
<div class="detail" id="get_user/1">
  
  
  <div class="detail-header">
    <a href="#get_user/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">get_user(name_or_id)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L261" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>get_user(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>() | integer()) :: <a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>() | nil</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Gets a single user.</p>
<p>Works the same as <a href="#get_user!/1"><code>get_user!/1</code></a> but returns <code>nil</code> instead of raising an error when the user is not
found.</p>

  </section>
</div>
<div class="detail" id="get_user!/1">
  
  
  <div class="detail-header">
    <a href="#get_user!/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">get_user!(name_or_id)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L294" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>get_user!(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>() | integer()) ::
  <a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>() |
  no_return()</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Gets a single user.</p>
<p>Raises <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.NoResultsError.html"><code>Ecto.NoResultsError</code></a> if the user does not exist.</p>
<h2 id="get_user!/1-examples" class="section-heading">
  <a href="#get_user!/1-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<p>Get a user by user ID:</p>
<pre><code class="iex elixir">iex&gt; get_user!(123)
%User{}
</code></pre>
<p>Get a user by their user name:</p>
<pre><code class="iex elixir">iex&gt; get_user!(&quot;username&quot;)
%User{}
</code></pre>
<p>Attempt to get a non-existent user:</p>
<pre><code class="iex elixir">iex&gt; get_user!(456)
** (Ecto.NoResultsError)
</code></pre>

  </section>
</div>
<div class="detail" id="list_orgs/0">
  
  
  <div class="detail-header">
    <a href="#list_orgs/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">list_orgs()</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L307" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>list_orgs() :: [<a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>()]</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Returns the list of organizations.</p>
<h2 id="list_orgs/0-examples" class="section-heading">
  <a href="#list_orgs/0-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="iex elixir">iex&gt; list_orgs()
[%Organization{}, ...]
</code></pre>

  </section>
</div>
<div class="detail" id="list_teams/1">
  
  
  <div class="detail-header">
    <a href="#list_teams/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">list_teams(org)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L315" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>list_teams(<a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>()) :: [<a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>()]</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Lists all teams within the organization.</p>

  </section>
</div>
<div class="detail" id="list_users/0">
  
  
  <div class="detail-header">
    <a href="#list_users/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">list_users()</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L332" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>list_users() :: [<a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()]</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Returns the list of all users.</p>
<h2 id="list_users/0-examples" class="section-heading">
  <a href="#list_users/0-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="iex elixir">iex&gt; list_users()
[%User{}, ...]
</code></pre>

  </section>
</div>
<div class="detail" id="list_users/1">
  
  
  <div class="detail-header">
    <a href="#list_users/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">list_users(org)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L350" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>list_users(<a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>()) :: [<a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()]</pre>
        
          <pre>list_users(<a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>()) :: [<a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()]</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>List the users on a team.</p>

  </section>
</div>
<div class="detail" id="original_team/1">
  
  
  <div class="detail-header">
    <a href="#original_team/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">original_team(organization_id)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L363" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>original_team(<a href="https://hexdocs.pm/elixir/String.html#t:t/0">String.t</a>()) :: <a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>() | nil</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Returns the original team for the organization, if it exists.</p>
<p>This shouldn't be susceptible to race conditions so long as the original team is <strong>always</strong>
created along with the organization.</p>

  </section>
</div>
<div class="detail" id="remove_user_from_org/2">
  
  
  <div class="detail-header">
    <a href="#remove_user_from_org/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">remove_user_from_org(user, org)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L379" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>remove_user_from_org(<a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>(), <a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Removes the user from the organization.</p>

  </section>
</div>
<div class="detail" id="remove_user_from_team/2">
  
  
  <div class="detail-header">
    <a href="#remove_user_from_team/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">remove_user_from_team(user, team)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L435" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>remove_user_from_team(<a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>(), <a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Removes the user from the team.</p>

  </section>
</div>
<div class="detail" id="update_org/2">
  
  
  <div class="detail-header">
    <a href="#update_org/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">update_org(org, attrs)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L447" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>update_org(<a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>(), <a href="https://hexdocs.pm/elixir/Map.html#t:t/0">Map.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.Organization.html#t:t/0">StaffNotes.Accounts.Organization.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Updates the organization.</p>

  </section>
</div>
<div class="detail" id="update_team/2">
  
  
  <div class="detail-header">
    <a href="#update_team/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">update_team(team, attrs)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L459" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>update_team(<a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>(), <a href="https://hexdocs.pm/elixir/Map.html#t:t/0">Map.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.Team.html#t:t/0">StaffNotes.Accounts.Team.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Updates the team.</p>
<p>See <a href="StaffNotes.Accounts.Team.html#update_team_changeset/2"><code>StaffNotes.Accounts.Team.update_team_changeset/2</code></a> for applicable business rules.</p>

  </section>
</div>
<div class="detail" id="update_user/2">
  
  
  <div class="detail-header">
    <a href="#update_user/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <span class="signature">update_user(user, attrs)</span>
    
      <a href="https://github.com/lee-dohm/staff-notes/blob/master/lib/staff_notes/accounts.ex#L482" class="view-source" rel="help" title="View Source">
       <span class="icon-code" aria-hidden="true"></span>
       <span class="sr-only">View Source</span>
     </a>
    
    
    
      <div class="specs">
        
          <pre>update_user(<a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>(), <a href="https://hexdocs.pm/elixir/Map.html#t:t/0">Map.t</a>()) ::
  {:ok, <a href="StaffNotes.Accounts.User.html#t:t/0">StaffNotes.Accounts.User.t</a>()} |
  {:error, <a href="https://hexdocs.pm/ecto/2.2.7/Ecto.Changeset.html#t:t/0">Ecto.Changeset.t</a>()}</pre>
        
      </div>
    
  </div>
  <section class="docstring">
    <p>Updates a user.</p>
<h2 id="update_user/2-examples" class="section-heading">
  <a href="#update_user/2-examples" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Examples
</h2>

<pre><code class="iex elixir">iex&gt; update_user(user, %{field: new_value})
{:ok, %User{}}
</code></pre>
<pre><code class="iex elixir">iex&gt; update_user(user, %{field: bad_value})
{:error, %Ecto.Changeset{}}
</code></pre>

  </section>
</div>

        </section>
      

      
          <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" rel="help" target="_blank">ExDoc</a> (v0.18.1),
          </span>
          <span class="line">
            designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" title="@dignifiedquire">Friedel Ziegelmayer</a>.
            </span>
        </p>
        <button class="night-mode-toggle"><span class="sr-only">Switch theme</span></button>
      </footer>
    </div>
  </div>
</section>
</div>
  <script src="dist/app-778c9ef903.js"></script>
  
  
  
  
  </body>
</html>

